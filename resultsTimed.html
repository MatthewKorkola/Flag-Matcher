<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Final Results (Timer)</title>
    <script src="updateHighScores.js" defer></script>
    <link rel="stylesheet" href="resultsTimed.css">
</head>
<body>

    <h1>Final Results (Timer)</h1>
     <div>
        <p>Number of Correct Answers: <span id="correctAnswers"></span></p>
        <p>Number of Incorrect Answers: <span id="incorrectAnswers"></span></p>
        <p>Ending Streak: <span id="streak"></span></p>
        <p>Max Streak: <span id="maxStreak"></span></p>
        <p>Number of Close Calls: <span id="closeCalls"></span></p>
        <p>Number of Quick Correct Answers: <span id="quickAnswers"></span></p>
        <p>Fastest Correct Answer: <span id="fastestAnswer"></span>s</p>
        <p>Slowest Correct Answer: <span id="slowestAnswer"></span>s</p>
        <p>Total Time: <span id="totalTime"></span>s</p>
        <p>Percentage Correct: <span id="percentageCorrect"></span>%</p>
        <p>Overall Performance: <span id="points"></span> points</p> <br>
        <p><span id="resultsMessage"></span></p>
    </div>

    <button onclick="playAgain()">Play Again</button>
    <button onclick="redirectToMainMenu()">Main Menu</button>

    <script>
        // Retrieve quiz results from local storage and update HTML elements
        document.getElementById("correctAnswers").textContent = localStorage.getItem("correctAnswers");
        document.getElementById("incorrectAnswers").textContent = localStorage.getItem("incorrectAnswers");
        document.getElementById("streak").textContent = localStorage.getItem("streak");
        document.getElementById("maxStreak").textContent = localStorage.getItem("maxStreak");
        document.getElementById("percentageCorrect").textContent = localStorage.getItem("correctAnswersPercentage");
        document.getElementById("resultsMessage").textContent = localStorage.getItem("resultsMessage");
        document.getElementById("quickAnswers").textContent = localStorage.getItem("quickAnswers");
        document.getElementById("closeCalls").textContent = localStorage.getItem("closeCalls");
        document.getElementById("fastestAnswer").textContent = localStorage.getItem("fastestAnswer");
        document.getElementById("slowestAnswer").textContent = localStorage.getItem("slowestAnswer");
        document.getElementById("totalTime").textContent = localStorage.getItem("totalTime");
        document.getElementById("points").textContent = localStorage.getItem("points");

        function playAgain() {
            window.location.href = "quizTimed.html";
        }
        function redirectToMainMenu() {
            window.location.href = "mainMenu.html";
        }

        // Retrieve region from localStorage
        var region = localStorage.getItem('region');

        // Update the h1 tag to display the region
        var h1Element = document.querySelector('h1');
        h1Element.textContent = "Final Results (Timer) - " + region;

    </script>

</body>
</html>